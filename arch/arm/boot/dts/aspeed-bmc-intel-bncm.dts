// SPDX-License-Identifier: GPL-2.0
/dts-v1/;

#include "aspeed-bmc-intel-bhs.dtsi"

/ {
	model = "Intel Beechnut City Modular BMC";
	compatible = "intel,bncm-bmc", "aspeed,ast2600";
	aliases {
		i2c16 = &i2c9_mux_ch7;
		i2c17 = &i2c9_mux_ch3;
	};
};

&i2c9 {
	/*
	 * W/A: add SMBUS MUX via device tree instead of entity-manager
	 * to assign fixed numbers for buses behind MUX which can be referred
	 * later in platform configuration
	 */
	pca9848@70 {
		compatible = "nxp,pca9848";
		reg = <0x70>;
		i2c9_mux_ch7: i2c@7 {
			reg = <7>;
		};
	};
	pca9544@74 {
		compatible = "nxp,pca9544";
		reg = <0x74>;
		i2c9_mux_ch3: i2c@3 {
			reg = <3>;
		};
	};
};

&i3c2 {
	/* I3C_MNG_LVC18 */
	i3c-scl-hz = <4000001>;

	/* HUB on Legacy Board */
	hub0@0,0 {
		cp0-ldo = "disabled";
		cp1-ldo = "disabled";
		tp0145-ldo = "disabled";
		tp2367-ldo = "disabled";
		tp0145-pullup = "2k";
		tp2367-pullup = "2k";
		id = <0>;

		target-port@0 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@1 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@2 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@3 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@4 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@5 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@6 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@7 {
			mode = "disabled";
			pullup = "enabled";
		};
	};

	/* HUB on MISC IO Board */
	hub1@0,0 {
		cp0-ldo = "disabled";
		cp1-ldo = "disabled";
		tp0145-ldo = "disabled";
		tp2367-ldo = "disabled";
		tp0145-pullup = "2k";
		tp2367-pullup = "2k";
		id = <1>;

		target-port@0 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@1 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@2 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@3 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@4 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@5 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@6 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@7 {
			mode = "disabled";
			pullup = "enabled";
		};
	};

	/* HUB on non-Legacy Board */
	hub2@0,0 {
		cp0-ldo = "disabled";
		cp1-ldo = "disabled";
		tp0145-ldo = "disabled";
		tp2367-ldo = "disabled";
		tp0145-pullup = "2k";
		tp2367-pullup = "2k";
		id = <3>;

		target-port@0 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@1 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@2 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@3 {
			mode = "i3c";
			pullup = "enabled";
		};
		target-port@4 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@5 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@6 {
			mode = "disabled";
			pullup = "enabled";
		};
		target-port@7 {
			mode = "disabled";
			pullup = "enabled";
		};
	};
};

&i3c3 {
	/* I3C_SPD_BMC */

	/* Renesas RG3MxxB12A0 */
	rg3mxxb12a0: spd@70,3C000000100 {
		reg = <0x70 0x3C0 0x00000100>;
		assigned-address = <0x70>;
	};

	/* Renesas SPD5118 */
	spd5118_0_0: spd@50,3C000000000 {
		reg = <0x50 0x3C0 0x00000000>;
		assigned-address = <0x50>;
	};

	/* Renesas SPD5118 */
	spd5118_0_1: spd@51,3C000000001 {
		reg = <0x51 0x3C0 0x00000001>;
		assigned-address = <0x51>;
	};

	/* Renesas SPD5118 */
	spd5118_0_2: spd@52,3C000000002 {
		reg = <0x52 0x3C0 0x00000002>;
		assigned-address = <0x52>;
	};

	/* Renesas SPD5118 */
	spd5118_0_3: spd@53,3C000000003 {
		reg = <0x53 0x3C0 0x00000003>;
		assigned-address = <0x53>;
	};

	/* Renesas SPD5118 */
	spd5118_0_4: spd@54,3C000000004 {
		reg = <0x54 0x3C0 0x00000004>;
		assigned-address = <0x54>;
	};

	/* Renesas SPD5118 */
	spd5118_0_5: spd@55,3C000000005 {
		reg = <0x55 0x3C0 0x00000005>;
		assigned-address = <0x55>;
	};

	/* Renesas SPD5118 */
	spd5118_0_6: spd@56,3C000000006 {
		reg = <0x56 0x3C0 0x00000006>;
		assigned-address = <0x56>;
	};

	/* Renesas SPD5118 */
	spd5118_0_7: spd@57,3C000000007 {
		reg = <0x57 0x3C0 0x00000007>;
		assigned-address = <0x57>;
	};
};
